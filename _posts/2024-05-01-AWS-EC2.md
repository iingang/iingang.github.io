---
title: "[AWS] EC2 배치그룹 / EC2 인스턴스 구매옵션 "
date: 2024-05-01 09:00:00 +0900
categories: [Cloud,AWS]
tags: [Cloud, AWS, EC2]
typora-root-url: ./
---

## **EC2 배치 그룹 (EC2 Placement Groups)**

---

EC2 배치 그룹이란 EC2 서비스의 모든 인스턴스가 기본 하드웨어 전반에 분산되도록 하여 상호 관련 오류의 위험을 줄이기 위해 설정하는 전략입니다.

<br/>



1. **Cluster (클러스터 배치그룹)**

   - 단일 가용 영역(Single AZ)에서 가장 지연 시간이 짧은 그룹으로 인스턴스를 클러스터링

     <img src="/../assets/img/posts/2024-05-01-AWS-EC2/image-20240617140446516.png" alt="image-20240617140446516" style="zoom:40%;" />

     <br/>

2. **Spread (분산 배치그룹)**

   - **배치 그룹당 AZ당** 인스턴스는 **최대 7개**

   - 여러 가용 영역에 걸쳐 있음 = **고가용성**

   - 장애로부터 격리되어야 하는 중요 어플리케이션

   - 모든 EC2 인스턴스가 서로 다른 하드웨어에 존재

     <img src="/../assets/img/posts/2024-05-01-AWS-EC2/image-20240617135957749.png" alt="image-20240617135957749" style="zoom:30%;" />

     <br/>

3. **Partition (파티션 배치그룹)**

   - 여러 가용영역의 여러 파티션에 자체 랙세트에 인스턴스를 분할하여 각각 분산 배치

   - 가용 영역 당 **파티션을 최대 7개**까지 가질 수 있음

   - **최대 100개**의 EC2 인스턴스를 통한 **확장성**이 큰 장점

   - ex) HDFS, HBase, Cassandra, Kafka, Hadoop

     <img src="/../assets/img/posts/2024-05-01-AWS-EC2/image-20240617140056274.png" alt="image-20240617140056274" style="zoom:28%;" />

   <br/>

   <br/>

## **EC2 인스턴스 구매 옵션**

---

- **온디맨드 인스턴스 (EC2 On Demand)**

  - 단기간 동안 예측할 수 없는 워크로드 및 **중단되어서는 안되는** 어플리케이션에 적합

  - 약정없이 시작하는 인스턴스에 대한 비용을 초 단위로 지불

    <br/>

- **<span style='background-color:#fff5b1'>예약 인스턴스 (EC2 Reserved Instances)</span>**

  - 온디맨드에 비해 75% 저렴

  - **1년 또는 3년** 기간 동안 인스턴스 유형 및 리전을 포함하여 **일관된 인스턴스 구성을 약정**하여 Amazon EC2 비용을 절감

  - 수요가 꾸준하고 예측가능한 경우에 적합 (ex. 사용량 일정한 DB에 적합)

  - 지역, 크기 등 정하게되면 변경이 거의 불가한 단점

    <br/>

- **<span style='background-color:#fff5b1'>절약형 플랜 (EC2 Savings Plans)</span>**

  - 온디맨드에 비해 75% 저렴

  - **1년 또는 3년** 기간 동안 **시간당 USD로 일관된 사용량을 약정**하여 Amazon EC2 비용을 절감

  - EC2 Instance Savings Plan

    - 지정한 지역내에서만 인스턴스 변경 허용
    - EC2 인스턴스의 같은 패밀리에만 적용 가능하면, 크기 변경, 운영체제 변경이 허용

  - EC2 Compute Savings Plans

     = EC2 뿐만 아니라 Lambda 및 Fargate 서비스에도 적용됨

    - **AWS 예산을 사용하여 Savings Plans 예산** 설정을 통해 임계치 설정 및 알림을 보낼 이메일 주소 입력

    - **여러 지역**에 걸쳐 적용 가능

    - 예약 인스턴스보다 유연하며 EC2 인스턴스 패밀리 혹은 운영체제 변경에 제한이 없음

      <br/>

- **스팟 인스턴스 (EC2 Spot Instances)**

  - **가장 저렴 (**온디맨드에 비해 최대 90% 저렴)

  - **인스턴스 손실 가능성 있음** → 조건에 미달되면 인스턴스 중지/종료됨

  - 서버 중단없이 지속적으로 실행되어야 하는 경우 적합 X (**=중단 허용**)

  - 상태 비저장, 시작 및 중지 가능 = 스팟 인스턴스

  - 미사용 EC2 인스턴스를 요청하여 Amazon EC2 비용을 대폭 줄일 수 있음

    <br/>

- **전용 호스트 (EC2 Dedicated Hosts)**

  - 인스턴스 실행을 전담하는 실제 호스트 비용을 지불하며, 기존의 소켓, 코어 또는 VM 소프트웨어별 라이선스를 가져와 비용을 절감

  - 물리적인 전용 서버를 할당받아 사용하는 방식

    <br/>

- **전용 인스턴스 (EC2 Dedicated Instances)**

  - 단일 테넌트 하드웨어에서 실행되는 인스턴스 비용을 시간 단위로 지불

  - 전용 하드웨어에서 실행되는 인스턴스 (물리적 서버와 다른 개념)

    <br/>

- **용량 예약 (EC2 Capacity Reservations)**

  - 특정 가용 영역(AZ)의 EC2 인스턴스에 대해 용량을 예약
  - 약정 X, 청구할인 X
